{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f SchoolMosPy","text":"<p>\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 SchoolMosPy - \u043b\u0435\u0433\u043a\u043e\u0432\u0435\u0441\u043d\u0443\u044e \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0443\u044e Python \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 API school.mos.ru.</p> <p> </p>"},{"location":"#_1","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>SchoolMosPy \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0438\u043d\u0442\u0443\u0438\u0442\u0438\u0432\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u043e\u0439 \u041c\u042d\u0428. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0443\u0447\u0435\u043d\u0438\u043a\u0435, \u043e\u0446\u0435\u043d\u043a\u0430\u0445, \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u0445 \u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438.</p>"},{"location":"#_2","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438","text":"<ul> <li>\ud83d\ude80 \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u043d\u0430 <code>httpx</code> \u0434\u043b\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439</li> <li>\ud83d\udd12 \u0422\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f - \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 <code>pydantic</code> \u0434\u043b\u044f \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0439 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a \u0442\u0438\u043f\u043e\u0432</li> <li>\ud83c\udfaf \u041f\u0440\u043e\u0441\u0442\u043e\u0439 API - \u0427\u0438\u0441\u0442\u044b\u0439 \u0438 \u0438\u043d\u0442\u0443\u0438\u0442\u0438\u0432\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043e \u0448\u043a\u043e\u043b\u044c\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438</li> <li>\ud83d\udcda \u041f\u043e\u043b\u043d\u043e\u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f - \u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043e\u0446\u0435\u043d\u043a\u0430\u043c, \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u043c, \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c \u0438 \u0434\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044f</li> <li>\u26a1 \u041b\u0435\u0433\u043a\u043e\u0432\u0435\u0441\u043d\u0430\u044f - \u041c\u0438\u043d\u0438\u043c\u0443\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0438 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0440\u0430\u0437\u043c\u0435\u0440</li> </ul>"},{"location":"#_3","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 SchoolMosPy \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e pip:</p> <pre><code>pip install schoolmospy\n</code></pre>"},{"location":"#_4","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python 3.12 \u0438\u043b\u0438 \u0432\u044b\u0448\u0435</li> <li>httpx &gt;= 0.28.1</li> <li>pydantic &gt;= 2.11.9</li> </ul>"},{"location":"#_5","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>import asyncio\nfrom datetime import datetime\nfrom schoolmospy import StudentClient\n\nasync def main():\n    # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n    client = StudentClient(\n        token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\",\n        profile_id=12345\n    )\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435\n    profile = await client.get_me()\n    print(f\"\u0423\u0447\u0435\u043d\u0438\u043a: {profile.profile.first_name} {profile.profile.last_name}\")\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\n    marks = await client.marks.get(\n        from_date=datetime(2024, 1, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n    print(f\"\u0412\u0441\u0435\u0433\u043e \u043e\u0446\u0435\u043d\u043e\u043a: {len(marks.payload)}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"#_6","title":"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 SchoolMosPy, \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u044c\u0442\u0435\u0441\u044c \u0441 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e\u043c \u043f\u043e \u0431\u044b\u0441\u0442\u0440\u043e\u043c\u0443 \u0441\u0442\u0430\u0440\u0442\u0443.</p>"},{"location":"#api","title":"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f API","text":"<p>\u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e API:</p> <ul> <li>StudentClient - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0443\u0447\u0435\u043d\u0438\u043a\u0430</li> <li>MarksClient - \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043e\u0446\u0435\u043d\u043a\u0430\u043c \u0443\u0447\u0435\u043d\u0438\u043a\u0430</li> <li>HomeworkClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439</li> <li>EventClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439</li> </ul>"},{"location":"#_7","title":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","text":"<ul> <li>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f: https://xd2dd.github.io/schoolmospy</li> <li>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b: GitHub Issues</li> <li>\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434: GitHub Repository</li> </ul>"},{"location":"#_8","title":"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f","text":"<p>\u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u043f\u043e\u0434 GPL-3.0 License. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0432 \u0444\u0430\u0439\u043b\u0435 LICENSE.</p>"},{"location":"#_9","title":"\u0410\u0432\u0442\u043e\u0440","text":"<p>Ivan Kriventsev Email: xd2dd@icloud.com</p>"},{"location":"exceptions/","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":"<p>SchoolMosPy \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 API.</p>"},{"location":"exceptions/#_2","title":"\u0418\u0435\u0440\u0430\u0440\u0445\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":"<pre><code>Exception\n\u2514\u2500\u2500 APIError\n    \u251c\u2500\u2500 AuthError\n    \u251c\u2500\u2500 NotFoundError\n    \u251c\u2500\u2500 ServerError\n    \u2514\u2500\u2500 HTTPError\n</code></pre> <p>\u0412\u0441\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 <code>schoolmospy.utils.exceptions</code>.</p>"},{"location":"exceptions/#apierror","title":"APIError","text":"<p>\u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043e\u0448\u0438\u0431\u043e\u043a API.</p>"},{"location":"exceptions/#_3","title":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435","text":"<pre><code>class APIError(Exception):\n    def __init__(\n        self,\n        message: str,\n        status_code: int | None = None,\n        response: Any | None = None,\n    ) -&gt; None:\n        ...\n</code></pre>"},{"location":"exceptions/#_4","title":"\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b","text":"\u0410\u0442\u0440\u0438\u0431\u0443\u0442 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>message</code> <code>str</code> \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 <code>status_code</code> <code>int \\| None</code> HTTP \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u0434 <code>response</code> <code>Any \\| None</code> \u0422\u0435\u043b\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"},{"location":"exceptions/#_5","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>from schoolmospy.utils.exceptions import APIError\n\ntry:\n    marks = await client.marks.get(from_date, to_date)\nexcept APIError as e:\n    print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n    print(f\"\u0421\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u0434: {e.status_code}\")\n    print(f\"\u041e\u0442\u0432\u0435\u0442: {e.response}\")\n</code></pre>"},{"location":"exceptions/#autherror","title":"AuthError","text":"<p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043e\u0448\u0438\u0431\u043e\u043a \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 (HTTP 401).</p>"},{"location":"exceptions/#_6","title":"\u041a\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442","text":"<ul> <li>\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a\u0448\u0438\u0439 \u0442\u043e\u043a\u0435\u043d</li> <li>\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430</li> <li>\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 profile_id</li> </ul>"},{"location":"exceptions/#_7","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>from schoolmospy.utils.exceptions import AuthError\n\ntry:\n    profile = await client.get_me()\nexcept AuthError:\n    print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0438 profile_id.\")\n    # \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430\n</code></pre>"},{"location":"exceptions/#_8","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":"<pre><code>async def safe_request_with_retry():\n    max_retries = 3\n    for attempt in range(max_retries):\n        try:\n            return await client.get_me()\n        except AuthError:\n            if attempt == max_retries - 1:\n                print(\"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a\")\n                raise\n            print(f\"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 {attempt + 1} \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c, \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c...\")\n            # \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d\n            await asyncio.sleep(1)\n</code></pre>"},{"location":"exceptions/#notfounderror","title":"NotFoundError","text":"<p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043e\u0448\u0438\u0431\u043e\u043a \"\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e\" (HTTP 404).</p>"},{"location":"exceptions/#_9","title":"\u041a\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442","text":"<ul> <li>\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442</li> <li>\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 ID \u0438\u043b\u0438 GUID</li> <li>\u0420\u0435\u0441\u0443\u0440\u0441 \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d</li> </ul>"},{"location":"exceptions/#_10","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>from schoolmospy.utils.exceptions import NotFoundError\n\ntry:\n    events = await client.events.get(\n        from_date, to_date, \"invalid-guid\"\n    )\nexcept NotFoundError:\n    print(\"\u0420\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c GUID.\")\n</code></pre>"},{"location":"exceptions/#servererror","title":"ServerError","text":"<p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043e\u0448\u0438\u0431\u043e\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (HTTP 5xx).</p>"},{"location":"exceptions/#_11","title":"\u041a\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442","text":"<ul> <li>\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (500)</li> <li>\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d (503)</li> <li>\u0422\u0430\u0439\u043c-\u0430\u0443\u0442 \u0448\u043b\u044e\u0437\u0430 (504)</li> </ul>"},{"location":"exceptions/#_12","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>from schoolmospy.utils.exceptions import ServerError\nimport asyncio\n\nasync def request_with_retry():\n    max_retries = 3\n    retry_delay = 2\n\n    for attempt in range(max_retries):\n        try:\n            return await client.marks.get(from_date, to_date)\n        except ServerError as e:\n            if attempt == max_retries - 1:\n                print(\"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a\")\n                raise\n\n            print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: {e}. \u041f\u043e\u0432\u0442\u043e\u0440 \u0447\u0435\u0440\u0435\u0437 {retry_delay}\u0441...\")\n            await asyncio.sleep(retry_delay)\n            retry_delay *= 2  # \u042d\u043a\u0441\u043f\u043e\u043d\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430\n</code></pre>"},{"location":"exceptions/#httperror","title":"HTTPError","text":"<p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0445 HTTP \u043e\u0448\u0438\u0431\u043e\u043a.</p>"},{"location":"exceptions/#_13","title":"\u041a\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442","text":"<ul> <li>\u041b\u044e\u0431\u043e\u0439 HTTP \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u0434, \u043d\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u044b\u0439 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f\u043c\u0438</li> <li>\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 (4xx, \u043a\u0440\u043e\u043c\u0435 401 \u0438 404)</li> </ul>"},{"location":"exceptions/#_14","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>from schoolmospy.utils.exceptions import HTTPError\n\ntry:\n    homeworks = await client.homeworks.get(from_date, to_date)\nexcept HTTPError as e:\n    print(f\"\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f HTTP \u043e\u0448\u0438\u0431\u043a\u0430: {e}\")\n    print(f\"\u0421\u0442\u0430\u0442\u0443\u0441: {e.status_code}\")\n</code></pre>"},{"location":"exceptions/#_15","title":"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"exceptions/#_16","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0432\u0441\u0435\u0445 \u0442\u0438\u043f\u043e\u0432 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>from schoolmospy.utils.exceptions import (\n    AuthError,\n    NotFoundError,\n    ServerError,\n    HTTPError,\n    APIError\n)\n\nasync def safe_api_call():\n    try:\n        marks = await client.marks.get(from_date, to_date)\n        return marks\n\n    except AuthError:\n        print(\"\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\")\n        print(\"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0438 profile_id\")\n\n    except NotFoundError:\n        print(\"\u274c \u0420\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\")\n        print(\"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u0430\")\n\n    except ServerError as e:\n        print(f\"\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: {e.status_code}\")\n        print(\"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435\")\n\n    except HTTPError as e:\n        print(f\"\u274c HTTP \u043e\u0448\u0438\u0431\u043a\u0430: {e.status_code}\")\n        print(f\"\u0414\u0435\u0442\u0430\u043b\u0438: {e.response}\")\n\n    except APIError as e:\n        print(f\"\u274c \u041e\u0431\u0449\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n\n    return None\n</code></pre>"},{"location":"exceptions/#_17","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c","text":"<pre><code>import logging\n\nlogger = logging.getLogger(__name__)\n\nasync def request_with_logging():\n    try:\n        return await client.get_me()\n\n    except AuthError as e:\n        logger.error(f\"Auth failed: {e}\")\n        raise\n\n    except ServerError as e:\n        logger.warning(f\"Server error: {e.status_code}\")\n        raise\n\n    except APIError as e:\n        logger.error(f\"API error: {e}\")\n        raise\n</code></pre>"},{"location":"exceptions/#retry-","title":"Retry-\u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440","text":"<pre><code>import asyncio\nfrom functools import wraps\nfrom schoolmospy.utils.exceptions import ServerError, APIError\n\ndef retry_on_error(max_retries=3, delay=1):\n    def decorator(func):\n        @wraps(func)\n        async def wrapper(*args, **kwargs):\n            last_exception = None\n\n            for attempt in range(max_retries):\n                try:\n                    return await func(*args, **kwargs)\n                except (ServerError, APIError) as e:\n                    last_exception = e\n                    if attempt &lt; max_retries - 1:\n                        await asyncio.sleep(delay * (attempt + 1))\n                    continue\n\n            raise last_exception\n        return wrapper\n    return decorator\n\n@retry_on_error(max_retries=3, delay=2)\nasync def get_marks_safe():\n    return await client.marks.get(from_date, to_date)\n</code></pre>"},{"location":"exceptions/#_18","title":"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>from contextlib import asynccontextmanager\n\n@asynccontextmanager\nasync def handle_api_errors():\n    try:\n        yield\n    except AuthError:\n        print(\"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\")\n    except NotFoundError:\n        print(\"\u0420\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\")\n    except ServerError:\n        print(\"\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\")\n    except APIError as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\nasync with handle_api_errors():\n    marks = await client.marks.get(from_date, to_date)\n</code></pre>"},{"location":"exceptions/#_19","title":"\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438","text":""},{"location":"exceptions/#1","title":"1. \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430","text":"<p>\u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0439\u0442\u0435 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434 \u043e\u0431\u0449\u0438\u043c\u0438:</p> <pre><code>try:\n    result = await client.get_me()\nexcept AuthError:\n    # \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430\n    handle_auth_error()\nexcept APIError:\n    # \u041e\u0431\u0449\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430\n    handle_generic_error()\n</code></pre>"},{"location":"exceptions/#2","title":"2. \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<p>\u0412\u0441\u0435\u0433\u0434\u0430 \u043b\u043e\u0433\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438:</p> <pre><code>import logging\n\ntry:\n    marks = await client.marks.get(from_date, to_date)\nexcept APIError as e:\n    logging.error(f\"Failed to get marks: {e}\", exc_info=True)\n    raise\n</code></pre>"},{"location":"exceptions/#3-graceful-degradation","title":"3. Graceful degradation","text":"<p>\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 fallback \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445:</p> <pre><code>async def get_marks_or_empty():\n    try:\n        return await client.marks.get(from_date, to_date)\n    except APIError:\n        logging.warning(\"Failed to get marks, returning empty list\")\n        return []\n</code></pre>"},{"location":"exceptions/#4-timeout-handling","title":"4. Timeout handling","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u044b \u0434\u043b\u044f \u0438\u0437\u0431\u0435\u0436\u0430\u043d\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u044f:</p> <pre><code>import asyncio\n\ntry:\n    marks = await asyncio.wait_for(\n        client.marks.get(from_date, to_date),\n        timeout=10.0\n    )\nexcept asyncio.TimeoutError:\n    print(\"\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u0442\u0430\u0439\u043c\u0430\u0443\u0442\")\nexcept APIError as e:\n    print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n</code></pre>"},{"location":"exceptions/#_20","title":"\u0421\u043c. \u0442\u0430\u043a\u0436\u0435","text":"<ul> <li>StudentClient - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442</li> <li>Quick Start - \u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u043d\u0430\u0447\u0430\u043b\u0443 \u0440\u0430\u0431\u043e\u0442\u044b</li> </ul>"},{"location":"models/","title":"\u041c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>SchoolMosPy \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 Pydantic \u0434\u043b\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0438 \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a\u0430\u043c\u0438 <code>BaseModel</code> \u0438\u0437 Pydantic.</p>"},{"location":"models/#profile","title":"Profile","text":"<p>\u041c\u043e\u0434\u0435\u043b\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438 \u0434\u0435\u0442\u044f\u0445.</p>"},{"location":"models/#_2","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>class Profile(BaseModel):\n    profile: _Profile  # \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f\n    children: list[Child]  # \u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u0442\u0435\u0439\n    hash: str  # \u0425\u044d\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044f\n</code></pre>"},{"location":"models/#_profile","title":"_Profile (\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c)","text":"\u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>last_name</code> <code>str</code> \u0424\u0430\u043c\u0438\u043b\u0438\u044f <code>first_name</code> <code>str</code> \u0418\u043c\u044f <code>middle_name</code> <code>str</code> \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e <code>birth_date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f <code>sex</code> <code>str</code> \u041f\u043e\u043b <code>user_id</code> <code>int</code> ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <code>id</code> <code>int</code> ID \u043f\u0440\u043e\u0444\u0438\u043b\u044f <code>phone</code> <code>str</code> \u0422\u0435\u043b\u0435\u0444\u043e\u043d <code>email</code> <code>str</code> Email <code>snils</code> <code>str</code> \u0421\u041d\u0418\u041b\u0421 <code>type</code> <code>str</code> \u0422\u0438\u043f \u043f\u0440\u043e\u0444\u0438\u043b\u044f"},{"location":"models/#child","title":"Child (\u0420\u0435\u0431\u0435\u043d\u043e\u043a)","text":"\u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>last_name</code> <code>str</code> \u0424\u0430\u043c\u0438\u043b\u0438\u044f <code>first_name</code> <code>str</code> \u0418\u043c\u044f <code>middle_name</code> <code>str</code> \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e <code>birth_date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f <code>sex</code> <code>str</code> \u041f\u043e\u043b <code>user_id</code> <code>int</code> ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <code>id</code> <code>int</code> ID \u0440\u0435\u0431\u0435\u043d\u043a\u0430 <code>phone</code> <code>str</code> \u0422\u0435\u043b\u0435\u0444\u043e\u043d <code>email</code> <code>str</code> Email <code>snils</code> <code>str</code> \u0421\u041d\u0418\u041b\u0421 <code>school</code> <code>School</code> \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0448\u043a\u043e\u043b\u0435 <code>class_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 <code>class_level_id</code> <code>int</code> ID \u0443\u0440\u043e\u0432\u043d\u044f \u043a\u043b\u0430\u0441\u0441\u0430 <code>class_unit_id</code> <code>int</code> ID \u043a\u043b\u0430\u0441\u0441\u0430 <code>class_uid</code> <code>str</code> UID \u043a\u043b\u0430\u0441\u0441\u0430 <code>age</code> <code>int</code> \u0412\u043e\u0437\u0440\u0430\u0441\u0442 <code>groups</code> <code>list[Group]</code> \u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f <code>representatives</code> <code>list[Representative]</code> \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u0439 <code>sections</code> <code>list[Section]</code> \u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u043a\u0446\u0438\u0439 <code>contingent_guid</code> <code>str</code> GUID \u043a\u043e\u043d\u0442\u0438\u043d\u0433\u0435\u043d\u0442\u0430 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432) <code>enrollment_date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0437\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"},{"location":"models/#school","title":"School (\u0428\u043a\u043e\u043b\u0430)","text":"\u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> ID \u0448\u043a\u043e\u043b\u044b <code>name</code> <code>str</code> \u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u043a\u043e\u043b\u044b <code>short_name</code> <code>str</code> \u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 <code>county</code> <code>str</code> \u041e\u043a\u0440\u0443\u0433 <code>principal</code> <code>str</code> \u0424\u0418\u041e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 <code>phone</code> <code>str</code> \u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0448\u043a\u043e\u043b\u044b <code>global_school_id</code> <code>int</code> \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 ID \u0448\u043a\u043e\u043b\u044b"},{"location":"models/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>profile = await client.get_me()\n\n# \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u043f\u0440\u043e\u0444\u0438\u043b\u044e\nprint(f\"\u0418\u043c\u044f: {profile.profile.first_name}\")\nprint(f\"Email: {profile.profile.email}\")\n\n# \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0440\u0435\u0431\u0435\u043d\u043a\u0430\nchild = profile.children[0]\nprint(f\"\u0420\u0435\u0431\u0435\u043d\u043e\u043a: {child.first_name} {child.last_name}\")\nprint(f\"\u0428\u043a\u043e\u043b\u0430: {child.school.name}\")\nprint(f\"\u041a\u043b\u0430\u0441\u0441: {child.class_name}\")\n\n# \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 contingent_guid \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\ncontingent_guid = child.contingent_guid\n</code></pre>"},{"location":"models/#marks","title":"Marks","text":"<p>\u041c\u043e\u0434\u0435\u043b\u044c \u043e\u0446\u0435\u043d\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u0430.</p>"},{"location":"models/#_4","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>class Marks(BaseModel):\n    payload: list[Mark]  # \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0446\u0435\u043d\u043e\u043a\n</code></pre>"},{"location":"models/#mark","title":"Mark (\u041e\u0446\u0435\u043d\u043a\u0430)","text":"\u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> ID \u043e\u0446\u0435\u043d\u043a\u0438 <code>value</code> <code>str</code> \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043a\u0438 (\"5\", \"4\", \"\u0437\u0430\u0447\u0435\u0442\" \u0438 \u0442.\u0434.) <code>subject_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>subject_id</code> <code>int</code> ID \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>created_at</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f <code>updated_at</code> <code>str</code> \u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f <code>comment</code> <code>str \\| None</code> \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0447\u0438\u0442\u0435\u043b\u044f <code>control_form_name</code> <code>str \\| None</code> \u0424\u043e\u0440\u043c\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f <code>is_point</code> <code>bool</code> \u042f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u043e\u0439 <code>point_date</code> <code>str \\| None</code> \u0414\u0430\u0442\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438 <code>weight</code> <code>int \\| None</code> \u0412\u0435\u0441 \u043e\u0446\u0435\u043d\u043a\u0438"},{"location":"models/#_5","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>marks = await client.marks.get(from_date, to_date)\n\nfor mark in marks.payload:\n    print(f\"{mark.subject_name}: {mark.value}\")\n    if mark.comment:\n        print(f\"  \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: {mark.comment}\")\n</code></pre>"},{"location":"models/#homeworks","title":"Homeworks","text":"<p>\u041c\u043e\u0434\u0435\u043b\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439.</p>"},{"location":"models/#_6","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>class Homeworks(BaseModel):\n    payload: list[Homework]  # \u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439\n</code></pre>"},{"location":"models/#homework","title":"Homework (\u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435)","text":"\u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> ID \u0437\u0430\u0434\u0430\u043d\u0438\u044f <code>subject_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>subject_id</code> <code>int</code> ID \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>description</code> <code>str</code> \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f <code>date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f <code>date_assigned</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 <code>homework_entry_student_id</code> <code>int \\| None</code> ID \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 <code>is_done</code> <code>bool</code> \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043b\u0438 <code>attachments</code> <code>list \\| None</code> \u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b <code>additional_materials</code> <code>list \\| None</code> \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},{"location":"models/#_7","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>homeworks = await client.homeworks.get(from_date, to_date)\n\nfor hw in homeworks.payload:\n    status = \"\u2713\" if hw.is_done else \"\u2717\"\n    print(f\"{status} {hw.subject_name}: {hw.description}\")\n\n    if hw.attachments:\n        print(f\"  \u0424\u0430\u0439\u043b\u043e\u0432: {len(hw.attachments)}\")\n</code></pre>"},{"location":"models/#events","title":"Events","text":"<p>\u041c\u043e\u0434\u0435\u043b\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f.</p>"},{"location":"models/#_8","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>class Events(BaseModel):\n    response: list[Event]  # \u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n</code></pre>"},{"location":"models/#event","title":"Event (\u0421\u043e\u0431\u044b\u0442\u0438\u0435/\u0423\u0440\u043e\u043a)","text":"\u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> ID \u0441\u043e\u0431\u044b\u0442\u0438\u044f <code>subject_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>subject_id</code> <code>int</code> ID \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>begin_time</code> <code>str</code> \u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430 <code>end_time</code> <code>str</code> \u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f <code>date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f <code>room_name</code> <code>str \\| None</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 <code>room_number</code> <code>str \\| None</code> \u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 <code>building_name</code> <code>str \\| None</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0434\u0430\u043d\u0438\u044f <code>teacher</code> <code>str \\| None</code> \u0424\u0418\u041e \u0443\u0447\u0438\u0442\u0435\u043b\u044f <code>lesson_type</code> <code>str \\| None</code> \u0422\u0438\u043f \u0443\u0440\u043e\u043a\u0430 <code>marks</code> <code>list \\| None</code> \u041e\u0446\u0435\u043d\u043a\u0438 \u0437\u0430 \u0443\u0440\u043e\u043a <code>homework</code> <code>dict \\| None</code> \u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 <code>is_cancelled</code> <code>bool</code> \u041e\u0442\u043c\u0435\u043d\u0435\u043d \u043b\u0438 \u0443\u0440\u043e\u043a <code>absence_reason</code> <code>str \\| None</code> \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f <code>non_attendance_reason</code> <code>str \\| None</code> \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043d\u0435\u044f\u0432\u043a\u0438"},{"location":"models/#_9","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>events = await client.events.get(from_date, to_date, contingent_guid)\n\nfor event in events.response:\n    print(f\"{event.begin_time}-{event.end_time}: {event.subject_name}\")\n    print(f\"  \u041a\u0430\u0431\u0438\u043d\u0435\u0442: {event.room_name}\")\n    print(f\"  \u0423\u0447\u0438\u0442\u0435\u043b\u044c: {event.teacher}\")\n\n    if event.is_cancelled:\n        print(\"  \u26a0\ufe0f \u041e\u0422\u041c\u0415\u041d\u0415\u041d\")\n\n    if event.homework:\n        print(f\"  \u0414\u0417: {event.homework.get('description')}\")\n</code></pre>"},{"location":"models/#userinfo","title":"Userinfo","text":"<p>\u041c\u043e\u0434\u0435\u043b\u044c \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0438\u0437 OAuth.</p>"},{"location":"models/#_10","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>class Userinfo(BaseModel):\n    user_id: int  # ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    name: str  # \u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    email: str  # Email\n</code></pre>"},{"location":"models/#_11","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>userinfo = await client.userinfo()\nprint(f\"User: {userinfo.name} ({userinfo.email})\")\n</code></pre>"},{"location":"models/#_12","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043c\u043e\u0434\u0435\u043b\u044f\u043c\u0438","text":""},{"location":"models/#_13","title":"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u043b\u044f\u043c","text":"<p>\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u0447\u0435\u0440\u0435\u0437 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b:</p> <pre><code>profile = await client.get_me()\nprint(profile.profile.first_name)  # \u0414\u043e\u0441\u0442\u0443\u043f \u0447\u0435\u0440\u0435\u0437 \u0442\u043e\u0447\u043a\u0443\n</code></pre>"},{"location":"models/#_14","title":"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c","text":"<pre><code>profile = await client.get_me()\nprofile_dict = profile.model_dump()  # \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 dict\n</code></pre>"},{"location":"models/#json","title":"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 JSON","text":"<pre><code>import json\n\nprofile = await client.get_me()\nprofile_json = profile.model_dump_json()  # \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 JSON \u0441\u0442\u0440\u043e\u043a\u0443\n</code></pre>"},{"location":"models/#_15","title":"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>Pydantic \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043c\u043e\u0434\u0435\u043b\u0435\u0439:</p> <pre><code># \u0415\u0441\u043b\u0438 API \u0432\u0435\u0440\u043d\u0435\u0442 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u0431\u0443\u0434\u0435\u0442 \u0431\u0440\u043e\u0448\u0435\u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 ValidationError\ntry:\n    marks = await client.marks.get(from_date, to_date)\nexcept ValidationError as e:\n    print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438: {e}\")\n</code></pre>"},{"location":"models/#_16","title":"\u0421\u043c. \u0442\u0430\u043a\u0436\u0435","text":"<ul> <li>StudentClient - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442</li> <li>MarksClient - \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043e\u0446\u0435\u043d\u043a\u0430\u043c\u0438</li> <li>HomeworkClient - \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u043c\u0438</li> <li>EventClient - \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c</li> </ul>"},{"location":"quickstart/","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u042d\u0442\u043e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 SchoolMosPy \u0432\u0441\u0435\u0433\u043e \u0437\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442.</p>"},{"location":"quickstart/#_2","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e pip:</p> <pre><code>pip install schoolmospy\n</code></pre>"},{"location":"quickstart/#_3","title":"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","text":"<p>\u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f SchoolMosPy \u0432\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f:</p> <ol> <li>Token - \u0442\u043e\u043a\u0435\u043d \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043e\u0442 school.mos.ru</li> <li>Profile ID - ID \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0447\u0435\u043d\u0438\u043a\u0430</li> </ol> <p>\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445</p> <p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0438 profile_id, \u0438\u0437\u0443\u0447\u0438\u0432 \u0441\u0435\u0442\u0435\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435 \u043d\u0430 school.mos.ru.</p>"},{"location":"quickstart/#_4","title":"\u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":""},{"location":"quickstart/#_5","title":"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430","text":"<pre><code>from schoolmospy import StudentClient\n\nclient = StudentClient(\n    token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d_\u0437\u0434\u0435\u0441\u044c\",\n    profile_id=12345678\n)\n</code></pre>"},{"location":"quickstart/#_6","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430:</p> <pre><code>import asyncio\n\nasync def main():\n    profile = await client.get_me()\n\n    # \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044f\n    print(f\"\u0418\u043c\u044f: {profile.profile.first_name} {profile.profile.last_name}\")\n    print(f\"Email: {profile.profile.email}\")\n\n    # \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0434\u0435\u0442\u0435\u0439 (\u0434\u043b\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432)\n    for child in profile.children:\n        print(f\"\u0420\u0435\u0431\u0435\u043d\u043e\u043a: {child.first_name} {child.last_name}\")\n        print(f\"\u0428\u043a\u043e\u043b\u0430: {child.school.name}\")\n        print(f\"\u041a\u043b\u0430\u0441\u0441: {child.class_name}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"quickstart/#_7","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0438 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0437\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434:</p> <pre><code>from datetime import datetime\n\nasync def get_marks():\n    marks = await client.marks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    for mark in marks.payload:\n        print(f\"\u041f\u0440\u0435\u0434\u043c\u0435\u0442: {mark.subject_name}\")\n        print(f\"\u041e\u0446\u0435\u043d\u043a\u0430: {mark.value}\")\n        print(f\"\u0414\u0430\u0442\u0430: {mark.created_at}\")\n        print(\"---\")\n\nasyncio.run(get_marks())\n</code></pre>"},{"location":"quickstart/#_8","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f:</p> <pre><code>async def get_homeworks():\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    for hw in homeworks.payload:\n        print(f\"\u041f\u0440\u0435\u0434\u043c\u0435\u0442: {hw.subject_name}\")\n        print(f\"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: {hw.description}\")\n        print(f\"\u0421\u0440\u043e\u043a \u0441\u0434\u0430\u0447\u0438: {hw.date}\")\n        print(\"---\")\n\nasyncio.run(get_homeworks())\n</code></pre>"},{"location":"quickstart/#_9","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f/\u0441\u043e\u0431\u044b\u0442\u0438\u0439","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:</p> <pre><code>async def get_schedule():\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    events = await client.events.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 7),\n        contingent_guid=contingent_guid\n    )\n\n    for event in events.response:\n        print(f\"\u041f\u0440\u0435\u0434\u043c\u0435\u0442: {event.subject_name}\")\n        print(f\"\u0412\u0440\u0435\u043c\u044f: {event.begin_time} - {event.end_time}\")\n        print(f\"\u041a\u0430\u0431\u0438\u043d\u0435\u0442: {event.room_name}\")\n        print(\"---\")\n\nasyncio.run(get_schedule())\n</code></pre>"},{"location":"quickstart/#_10","title":"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<p>\u0412\u043e\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u0432\u0441\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:</p> <pre><code>import asyncio\nfrom datetime import datetime\nfrom schoolmospy import StudentClient\n\nasync def main():\n    # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n    client = StudentClient(\n        token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d_\u0437\u0434\u0435\u0441\u044c\",\n        profile_id=12345678\n    )\n\n    try:\n        # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f\n        print(\"=== \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435 ===\")\n        profile = await client.get_me()\n        print(f\"\u0423\u0447\u0435\u043d\u0438\u043a: {profile.profile.first_name} {profile.profile.last_name}\")\n\n        # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a\n        print(\"\\n=== \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043a\u0438 ===\")\n        marks = await client.marks.get(\n            from_date=datetime(2024, 9, 1),\n            to_date=datetime(2024, 12, 31)\n        )\n        print(f\"\u0412\u0441\u0435\u0433\u043e \u043e\u0446\u0435\u043d\u043e\u043a: {len(marks.payload)}\")\n\n        # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439\n        print(\"\\n=== \u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f ===\")\n        homeworks = await client.homeworks.get(\n            from_date=datetime(2024, 12, 1),\n            to_date=datetime(2024, 12, 31)\n        )\n        print(f\"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0439: {len(homeworks.payload)}\")\n\n        # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f\n        print(\"\\n=== \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u044d\u0442\u0443 \u043d\u0435\u0434\u0435\u043b\u044e ===\")\n        contingent_guid = profile.children[0].contingent_guid\n        events = await client.events.get(\n            from_date=datetime(2024, 12, 1),\n            to_date=datetime(2024, 12, 7),\n            contingent_guid=contingent_guid\n        )\n        print(f\"\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0439: {len(events.response)}\")\n\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre>"},{"location":"quickstart/#_11","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<p>SchoolMosPy \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u043e\u0448\u0438\u0431\u043e\u043a:</p> <pre><code>from schoolmospy.utils.exceptions import AuthError, NotFoundError, ServerError, APIError\n\nasync def safe_request():\n    try:\n        marks = await client.marks.get(\n            from_date=datetime(2024, 9, 1),\n            to_date=datetime(2024, 12, 31)\n        )\n    except AuthError:\n        print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d.\")\n    except NotFoundError:\n        print(\"\u0420\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.\")\n    except ServerError:\n        print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.\")\n    except APIError as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n</code></pre>"},{"location":"quickstart/#_12","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>\u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e API \u0434\u043b\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438</li> <li>\u041e\u0437\u043d\u0430\u043a\u043e\u043c\u044c\u0442\u0435\u0441\u044c \u0441 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439 \u041c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0434\u0430\u043d\u043d\u044b\u0445</li> <li>\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u043e\u0431 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439</li> </ul>"},{"location":"quickstart/#_13","title":"\u0421\u043e\u0432\u0435\u0442\u044b","text":"<p>\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c</p> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 asyncio \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0435\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: <pre><code>marks, homeworks = await asyncio.gather(\n    client.marks.get(from_date, to_date),\n    client.homeworks.get(from_date, to_date)\n)\n</code></pre></p> <p>\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438</p> <p>\u041f\u043e\u043c\u043d\u0438\u0442\u0435 \u043e\u0431 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u0445 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a API. \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438.</p> <p>\u0418\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430</p> <p>\u0422\u043e\u043a\u0435\u043d\u044b \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u0442\u0435\u043a\u0430\u0442\u044c. \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u043b\u043e\u0433\u0438\u043a\u0443 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430 \u0432 \u043f\u0440\u043e\u0434\u0430\u043a\u0448\u0435\u043d \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u0445.</p>"},{"location":"api/events/","title":"EventClient","text":"<p><code>EventClient</code> - \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0437\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p>"},{"location":"api/events/#_1","title":"\u0414\u043e\u0441\u0442\u0443\u043f","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a <code>EventClient</code> \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e <code>events</code> \u043e\u0431\u044a\u0435\u043a\u0442\u0430 <code>StudentClient</code>:</p> <pre><code>from schoolmospy import StudentClient\n\nclient = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\nevent_client = client.events\n</code></pre>"},{"location":"api/events/#_2","title":"\u041c\u0435\u0442\u043e\u0434\u044b","text":""},{"location":"api/events/#get","title":"<code>get()</code>","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p> <pre><code>async def get(\n    from_date: datetime,\n    to_date: datetime,\n    contingent_guid: str\n) -&gt; Events\n</code></pre>"},{"location":"api/events/#_3","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>from_date</code> <code>datetime</code> \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e) <code>to_date</code> <code>datetime</code> \u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e) <code>contingent_guid</code> <code>str</code> GUID \u043a\u043e\u043d\u0442\u0438\u043d\u0433\u0435\u043d\u0442\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 (\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f)"},{"location":"api/events/#_4","title":"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442","text":"<p><code>Events</code> - \u043c\u043e\u0434\u0435\u043b\u044c Pydantic, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0443\u0440\u043e\u043a\u043e\u0432.</p>"},{"location":"api/events/#_5","title":"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","text":"<ul> <li><code>APIError</code> - \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442</li> <li><code>AuthError</code> - \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a</li> </ul>"},{"location":"api/events/#_6","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>from datetime import datetime\nfrom schoolmospy import StudentClient\n\nasync def main():\n    client = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0434\u043b\u044f contingent_guid\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e\n    events = await client.events.get(\n        from_date=datetime(2024, 12, 2),\n        to_date=datetime(2024, 12, 8),\n        contingent_guid=contingent_guid\n    )\n\n    # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n    for event in events.response:\n        print(f\"\u041f\u0440\u0435\u0434\u043c\u0435\u0442: {event.subject_name}\")\n        print(f\"\u0412\u0440\u0435\u043c\u044f: {event.begin_time} - {event.end_time}\")\n        print(f\"\u041a\u0430\u0431\u0438\u043d\u0435\u0442: {event.room_name}\")\n        print(f\"\u0423\u0447\u0438\u0442\u0435\u043b\u044c: {event.teacher}\")\n        print(\"---\")\n</code></pre>"},{"location":"api/events/#events","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 Events","text":"<p>\u041e\u0431\u044a\u0435\u043a\u0442 <code>Events</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f:</p> <pre><code>class Events(BaseModel):\n    response: list[Event]  # \u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n</code></pre>"},{"location":"api/events/#event","title":"\u041f\u043e\u043b\u044f Event","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>Event</code> \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 <code>response</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442:</p> \u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043e\u0431\u044b\u0442\u0438\u044f <code>subject_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>subject_id</code> <code>int</code> ID \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>begin_time</code> <code>str</code> \u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0443\u0440\u043e\u043a\u0430 <code>end_time</code> <code>str</code> \u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u0430 <code>date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f <code>room_name</code> <code>str \\| None</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 <code>room_number</code> <code>str \\| None</code> \u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 <code>teacher</code> <code>str \\| None</code> \u0424\u0418\u041e \u0443\u0447\u0438\u0442\u0435\u043b\u044f <code>marks</code> <code>list \\| None</code> \u041e\u0446\u0435\u043d\u043a\u0438 \u0437\u0430 \u0443\u0440\u043e\u043a <code>homework</code> <code>dict \\| None</code> \u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 <code>is_cancelled</code> <code>bool</code> \u041e\u0442\u043c\u0435\u043d\u0435\u043d \u043b\u0438 \u0443\u0440\u043e\u043a <code>absence_reason</code> <code>str \\| None</code> \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f"},{"location":"api/events/#_7","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"api/events/#_8","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f","text":"<pre><code>from datetime import datetime\n\nasync def get_today_schedule():\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    today = datetime.now()\n\n    events = await client.events.get(\n        from_date=today,\n        to_date=today,\n        contingent_guid=contingent_guid\n    )\n\n    print(f\"\u0423\u0440\u043e\u043a\u043e\u0432 \u0441\u0435\u0433\u043e\u0434\u043d\u044f: {len(events.response)}\")\n\n    for event in sorted(events.response, key=lambda e: e.begin_time):\n        print(f\"{event.begin_time} - {event.subject_name} ({event.room_name})\")\n</code></pre>"},{"location":"api/events/#_9","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","text":"<pre><code>from datetime import datetime, timedelta\n\nasync def get_week_schedule():\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    today = datetime.now()\n    week_end = today + timedelta(days=7)\n\n    events = await client.events.get(\n        from_date=today,\n        to_date=week_end,\n        contingent_guid=contingent_guid\n    )\n\n    # \u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0434\u043d\u044f\u043c\n    from collections import defaultdict\n    by_day = defaultdict(list)\n\n    for event in events.response:\n        by_day[event.date].append(event)\n\n    for date, day_events in sorted(by_day.items()):\n        print(f\"\\n=== {date} ===\")\n        for event in sorted(day_events, key=lambda e: e.begin_time):\n            print(f\"  {event.begin_time} - {event.subject_name}\")\n</code></pre>"},{"location":"api/events/#_10","title":"\u041f\u043e\u0438\u0441\u043a \u0443\u0440\u043e\u043a\u043e\u0432 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0443","text":"<pre><code>async def find_lessons_by_subject(subject_name: str):\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    events = await client.events.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31),\n        contingent_guid=contingent_guid\n    )\n\n    # \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0443\n    lessons = [\n        e for e in events.response\n        if subject_name.lower() in e.subject_name.lower()\n    ]\n\n    print(f\"\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0443\u0440\u043e\u043a\u043e\u0432 \u043f\u043e '{subject_name}': {len(lessons)}\")\n\n    for lesson in lessons:\n        print(f\"{lesson.date} {lesson.begin_time} - {lesson.teacher}\")\n</code></pre>"},{"location":"api/events/#_11","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438","text":"<pre><code>async def check_homework_in_schedule():\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    today = datetime.now()\n    week_end = today + timedelta(days=7)\n\n    events = await client.events.get(\n        from_date=today,\n        to_date=week_end,\n        contingent_guid=contingent_guid\n    )\n\n    # \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432 \u0441 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u0435\u043c\n    with_homework = [\n        e for e in events.response\n        if e.homework\n    ]\n\n    print(f\"\u0423\u0440\u043e\u043a\u043e\u0432 \u0441 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u0435\u043c: {len(with_homework)}\")\n\n    for event in with_homework:\n        print(f\"{event.date} - {event.subject_name}\")\n        print(f\"  \u0414\u0417: {event.homework.get('description', '\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f')}\")\n</code></pre>"},{"location":"api/events/#_12","title":"\u041f\u043e\u0438\u0441\u043a \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0445 \u0443\u0440\u043e\u043a\u043e\u0432","text":"<pre><code>async def find_cancelled_lessons():\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    events = await client.events.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31),\n        contingent_guid=contingent_guid\n    )\n\n    # \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0445 \u0443\u0440\u043e\u043a\u043e\u0432\n    cancelled = [e for e in events.response if e.is_cancelled]\n\n    print(f\"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0445 \u0443\u0440\u043e\u043a\u043e\u0432: {len(cancelled)}\")\n\n    for event in cancelled:\n        print(f\"{event.date} - {event.subject_name}\")\n</code></pre>"},{"location":"api/events/#_13","title":"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043f\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430\u043c","text":"<pre><code>from collections import Counter\n\nasync def count_rooms_usage():\n    profile = await client.get_me()\n    contingent_guid = profile.children[0].contingent_guid\n\n    events = await client.events.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31),\n        contingent_guid=contingent_guid\n    )\n\n    # \u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u043e\u0432\n    rooms = [e.room_name for e in events.response if e.room_name]\n    room_counts = Counter(rooms)\n\n    print(\"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430\u043c:\")\n    for room, count in room_counts.most_common():\n        print(f\"  {room}: {count} \u0443\u0440\u043e\u043a\u043e\u0432\")\n</code></pre>"},{"location":"api/events/#_14","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>from schoolmospy.utils.exceptions import AuthError, APIError\n\nasync def safe_get_events():\n    try:\n        profile = await client.get_me()\n        contingent_guid = profile.children[0].contingent_guid\n\n        events = await client.events.get(\n            from_date=datetime(2024, 12, 1),\n            to_date=datetime(2024, 12, 7),\n            contingent_guid=contingent_guid\n        )\n        return events\n    except AuthError:\n        print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d.\")\n    except APIError as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n    return None\n</code></pre>"},{"location":"api/events/#_15","title":"\u0421\u043c. \u0442\u0430\u043a\u0436\u0435","text":"<ul> <li>StudentClient - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442</li> <li>MarksClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a</li> <li>HomeworkClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439</li> <li>\u041c\u043e\u0434\u0435\u043b\u0438 - \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445</li> </ul>"},{"location":"api/homeworks/","title":"HomeworkClient","text":"<p><code>HomeworkClient</code> - \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0437\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p>"},{"location":"api/homeworks/#_1","title":"\u0414\u043e\u0441\u0442\u0443\u043f","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a <code>HomeworkClient</code> \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e <code>homeworks</code> \u043e\u0431\u044a\u0435\u043a\u0442\u0430 <code>StudentClient</code>:</p> <pre><code>from schoolmospy import StudentClient\n\nclient = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\nhomework_client = client.homeworks\n</code></pre>"},{"location":"api/homeworks/#_2","title":"\u041c\u0435\u0442\u043e\u0434\u044b","text":""},{"location":"api/homeworks/#get","title":"<code>get()</code>","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0437\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p> <pre><code>async def get(\n    from_date: datetime,\n    to_date: datetime\n) -&gt; Homeworks\n</code></pre>"},{"location":"api/homeworks/#_3","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>from_date</code> <code>datetime</code> \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e) <code>to_date</code> <code>datetime</code> \u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e)"},{"location":"api/homeworks/#_4","title":"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442","text":"<p><code>Homeworks</code> - \u043c\u043e\u0434\u0435\u043b\u044c Pydantic, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439.</p>"},{"location":"api/homeworks/#_5","title":"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","text":"<ul> <li><code>APIError</code> - \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442</li> <li><code>AuthError</code> - \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a</li> </ul>"},{"location":"api/homeworks/#_6","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>from datetime import datetime\nfrom schoolmospy import StudentClient\n\nasync def main():\n    client = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0437\u0430 \u043c\u0435\u0441\u044f\u0446\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439\n    for hw in homeworks.payload:\n        print(f\"\u041f\u0440\u0435\u0434\u043c\u0435\u0442: {hw.subject_name}\")\n        print(f\"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: {hw.description}\")\n        print(f\"\u0421\u0440\u043e\u043a \u0441\u0434\u0430\u0447\u0438: {hw.date}\")\n        print(f\"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b: {len(hw.attachments) if hw.attachments else 0}\")\n        print(\"---\")\n</code></pre>"},{"location":"api/homeworks/#done","title":"<code>done()</code>","text":"<p>\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0435.</p> <pre><code>async def done(\n    homework_id: int\n) -&gt; DoneStatus\n</code></pre>"},{"location":"api/homeworks/#_7","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>homework_id</code> <code>int</code> \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 ID \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f</p> <p>\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 ID \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 <code>homework_entry_student_id</code> \u0432 \u0442\u0438\u043f\u0435 <code>Homework</code></p>"},{"location":"api/homeworks/#_8","title":"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442","text":"<p><code>DoneStatus</code> - \u043c\u043e\u0434\u0435\u043b\u044c, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0443\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438.</p> <pre><code>class DoneStatus(BaseModel):\n    success: bool  # True, \u0435\u0441\u043b\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043e \u043a\u0430\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0435\n</code></pre>"},{"location":"api/homeworks/#_9","title":"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","text":"<ul> <li><code>APIError</code> - \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442</li> <li><code>AuthError</code> - \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a</li> <li><code>NotFoundError</code> - \u0435\u0441\u043b\u0438 \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c ID \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e</li> </ul>"},{"location":"api/homeworks/#_10","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>from schoolmospy import StudentClient\n\nasync def main():\n    client = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\n\n    # \u041e\u0442\u043c\u0435\u0442\u043a\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043a\u0430\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0433\u043e\n    result = await client.homeworks.done(homework_id=123456)\n\n    if result.success:\n        print(\"\u2713 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043e \u043a\u0430\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0435\")\n    else:\n        print(\"\u2717 \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435\")\n</code></pre>"},{"location":"api/homeworks/#_11","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0438 \u043e\u0442\u043c\u0435\u0442\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u043d\u0438\u0439","text":"<pre><code>from datetime import datetime\n\nasync def mark_homeworks_done():\n    client = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\n\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 7)\n    )\n\n    # \u041e\u0442\u043c\u0435\u0447\u0430\u0435\u043c \u043d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043a\u0430\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435\n    for hw in homeworks.payload:\n        if not hw.is_done:\n            result = await client.homeworks.done(homework_id=hw.homework_entry_student_id)\n            if result.success:\n                print(f\"\u2713 {hw.subject_name}: \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e\")\n</code></pre>"},{"location":"api/homeworks/#homeworks","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 Homeworks","text":"<p>\u041e\u0431\u044a\u0435\u043a\u0442 <code>Homeworks</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f:</p> <pre><code>class Homeworks(BaseModel):\n    payload: list[Homework]  # \u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439\n</code></pre>"},{"location":"api/homeworks/#homework","title":"\u041f\u043e\u043b\u044f Homework","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>Homework</code> \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 <code>payload</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442:</p> \u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u043d\u0438\u044f <code>subject_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>subject_id</code> <code>int</code> ID \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>description</code> <code>str</code> \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f <code>date</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438/\u0441\u0440\u043e\u043a \u0441\u0434\u0430\u0447\u0438 <code>homework_entry_student_id</code> <code>int \\| None</code> ID \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 <code>is_done</code> <code>bool</code> \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043b\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 <code>attachments</code> <code>list \\| None</code> \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 <code>additional_materials</code> <code>list \\| None</code> \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},{"location":"api/homeworks/#_12","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"api/homeworks/#_13","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439","text":"<pre><code>from datetime import datetime, timedelta\n\nasync def get_current_homeworks():\n    today = datetime.now()\n    next_week = today + timedelta(days=7)\n\n    homeworks = await client.homeworks.get(\n        from_date=today,\n        to_date=next_week\n    )\n\n    print(f\"\u0417\u0430\u0434\u0430\u043d\u0438\u0439 \u043d\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e: {len(homeworks.payload)}\")\n\n    for hw in homeworks.payload:\n        status = \"\u2713 \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e\" if hw.is_done else \"\u2717 \u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e\"\n        print(f\"{hw.subject_name} - {status}\")\n</code></pre>"},{"location":"api/homeworks/#_14","title":"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439","text":"<pre><code>async def get_pending_homeworks():\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439\n    pending = [hw for hw in homeworks.payload if not hw.is_done]\n\n    print(f\"\u041d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439: {len(pending)}\")\n\n    for hw in pending:\n        print(f\"\u26a0\ufe0f {hw.subject_name}: {hw.description[:50]}...\")\n</code></pre>"},{"location":"api/homeworks/#_15","title":"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c","text":"<pre><code>from collections import defaultdict\n\nasync def group_homeworks_by_subject():\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c\n    by_subject = defaultdict(list)\n    for hw in homeworks.payload:\n        by_subject[hw.subject_name].append(hw)\n\n    # \u0412\u044b\u0432\u043e\u0434 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438\n    for subject, tasks in by_subject.items():\n        done = sum(1 for t in tasks if t.is_done)\n        total = len(tasks)\n        print(f\"{subject}: {done}/{total} \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e\")\n</code></pre>"},{"location":"api/homeworks/#_16","title":"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438","text":"<pre><code>async def find_homeworks_with_attachments():\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438\n    with_files = [\n        hw for hw in homeworks.payload\n        if hw.attachments and len(hw.attachments) &gt; 0\n    ]\n\n    for hw in with_files:\n        print(f\"{hw.subject_name}: {len(hw.attachments)} \u0444\u0430\u0439\u043b\u043e\u0432\")\n        for attachment in hw.attachments:\n            print(f\"  - {attachment.get('name', '\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f')}\")\n</code></pre>"},{"location":"api/homeworks/#_17","title":"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","text":"<pre><code>async def calculate_completion_rate():\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    total = len(homeworks.payload)\n    done = sum(1 for hw in homeworks.payload if hw.is_done)\n\n    if total &gt; 0:\n        rate = (done / total) * 100\n        print(f\"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e: {done} \u0438\u0437 {total} ({rate:.1f}%)\")\n</code></pre>"},{"location":"api/homeworks/#_18","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>from schoolmospy.utils.exceptions import AuthError, APIError\n\nasync def safe_get_homeworks():\n    try:\n        homeworks = await client.homeworks.get(\n            from_date=datetime(2024, 12, 1),\n            to_date=datetime(2024, 12, 31)\n        )\n        return homeworks\n    except AuthError:\n        print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d.\")\n    except APIError as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n    return None\n</code></pre>"},{"location":"api/homeworks/#_19","title":"\u0421\u043c. \u0442\u0430\u043a\u0436\u0435","text":"<ul> <li>StudentClient - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442</li> <li>MarksClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a</li> <li>EventClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f</li> <li>\u041c\u043e\u0434\u0435\u043b\u0438 - \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445</li> </ul>"},{"location":"api/marks/","title":"MarksClient","text":"<p><code>MarksClient</code> - \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0446\u0435\u043d\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0437\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p>"},{"location":"api/marks/#_1","title":"\u0414\u043e\u0441\u0442\u0443\u043f","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a <code>MarksClient</code> \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e <code>marks</code> \u043e\u0431\u044a\u0435\u043a\u0442\u0430 <code>StudentClient</code>:</p> <pre><code>from schoolmospy import StudentClient\n\nclient = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\nmarks_client = client.marks\n</code></pre>"},{"location":"api/marks/#_2","title":"\u041c\u0435\u0442\u043e\u0434\u044b","text":""},{"location":"api/marks/#get","title":"<code>get()</code>","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0438 \u0437\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p> <pre><code>async def get(\n    from_date: datetime,\n    to_date: datetime\n) -&gt; Marks\n</code></pre>"},{"location":"api/marks/#_3","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>from_date</code> <code>datetime</code> \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e) <code>to_date</code> <code>datetime</code> \u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e)"},{"location":"api/marks/#_4","title":"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442","text":"<p><code>Marks</code> - \u043c\u043e\u0434\u0435\u043b\u044c Pydantic, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0446\u0435\u043d\u043e\u043a.</p>"},{"location":"api/marks/#_5","title":"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","text":"<ul> <li><code>APIError</code> - \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442</li> <li><code>AuthError</code> - \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a</li> </ul>"},{"location":"api/marks/#_6","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>from datetime import datetime\nfrom schoolmospy import StudentClient\n\nasync def main():\n    client = StudentClient(token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\", profile_id=12345)\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u0441\u0435\u043c\u0435\u0441\u0442\u0440\n    marks = await client.marks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0446\u0435\u043d\u043e\u043a\n    for mark in marks.payload:\n        print(f\"\u041f\u0440\u0435\u0434\u043c\u0435\u0442: {mark.subject_name}\")\n        print(f\"\u041e\u0446\u0435\u043d\u043a\u0430: {mark.value}\")\n        print(f\"\u0414\u0430\u0442\u0430: {mark.created_at}\")\n        print(f\"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: {mark.comment}\")\n        print(\"---\")\n</code></pre>"},{"location":"api/marks/#marks","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 Marks","text":"<p>\u041e\u0431\u044a\u0435\u043a\u0442 <code>Marks</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f:</p> <pre><code>class Marks(BaseModel):\n    payload: list[Mark]  # \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0446\u0435\u043d\u043e\u043a\n</code></pre>"},{"location":"api/marks/#mark","title":"\u041f\u043e\u043b\u044f Mark","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>Mark</code> \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 <code>payload</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442:</p> \u041f\u043e\u043b\u0435 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>id</code> <code>int</code> \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043e\u0446\u0435\u043d\u043a\u0438 <code>value</code> <code>str</code> \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"5\", \"4\", \"\u0437\u0430\u0447\u0435\u0442\") <code>subject_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>subject_id</code> <code>int</code> ID \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <code>created_at</code> <code>str</code> \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0446\u0435\u043d\u043a\u0438 <code>comment</code> <code>str \\| None</code> \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0447\u0438\u0442\u0435\u043b\u044f <code>is_point</code> <code>bool</code> \u042f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u043e\u0446\u0435\u043d\u043a\u0430 \u0431\u0430\u043b\u043b\u043e\u043c <code>point_date</code> <code>str \\| None</code> \u0414\u0430\u0442\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438"},{"location":"api/marks/#_7","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"api/marks/#_8","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446","text":"<pre><code>from datetime import datetime\n\nasync def get_current_month_marks():\n    now = datetime.now()\n    start_of_month = datetime(now.year, now.month, 1)\n\n    marks = await client.marks.get(\n        from_date=start_of_month,\n        to_date=now\n    )\n\n    print(f\"\u041e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446: {len(marks.payload)}\")\n</code></pre>"},{"location":"api/marks/#_9","title":"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u0446\u0435\u043d\u043e\u043a \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0443","text":"<pre><code>async def get_math_marks():\n    marks = await client.marks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u0446\u0435\u043d\u043e\u043a \u043f\u043e \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0435\n    math_marks = [\n        mark for mark in marks.payload\n        if \"\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\" in mark.subject_name.lower()\n    ]\n\n    for mark in math_marks:\n        print(f\"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430: {mark.value} - {mark.created_at}\")\n</code></pre>"},{"location":"api/marks/#_10","title":"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0441\u0440\u0435\u0434\u043d\u0435\u0439 \u043e\u0446\u0435\u043d\u043a\u0438","text":"<pre><code>async def calculate_average():\n    marks = await client.marks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n\n    # \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a \u0432 \u0447\u0438\u0441\u043b\u0430\n    numeric_marks = []\n    for mark in marks.payload:\n        try:\n            numeric_marks.append(int(mark.value))\n        except ValueError:\n            continue  # \u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043d\u0435 \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0435 \u043e\u0446\u0435\u043d\u043a\u0438\n\n    if numeric_marks:\n        average = sum(numeric_marks) / len(numeric_marks)\n        print(f\"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430: {average:.2f}\")\n</code></pre>"},{"location":"api/marks/#_11","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043e\u0446\u0435\u043d\u043e\u043a","text":"<pre><code>async def get_recent_marks(limit: int = 10):\n    marks = await client.marks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime.now()\n    )\n\n    # \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0434\u0430\u0442\u0435 (\u043d\u043e\u0432\u044b\u0435 \u0441\u043d\u0430\u0447\u0430\u043b\u0430)\n    sorted_marks = sorted(\n        marks.payload,\n        key=lambda m: m.created_at,\n        reverse=True\n    )\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 N \u043e\u0446\u0435\u043d\u043e\u043a\n    recent = sorted_marks[:limit]\n\n    for mark in recent:\n        print(f\"{mark.created_at}: {mark.subject_name} - {mark.value}\")\n</code></pre>"},{"location":"api/marks/#_12","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>from schoolmospy.utils.exceptions import AuthError, APIError\n\nasync def safe_get_marks():\n    try:\n        marks = await client.marks.get(\n            from_date=datetime(2024, 9, 1),\n            to_date=datetime(2024, 12, 31)\n        )\n        return marks\n    except AuthError:\n        print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d.\")\n    except APIError as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n    return None\n</code></pre>"},{"location":"api/marks/#_13","title":"\u0421\u043c. \u0442\u0430\u043a\u0436\u0435","text":"<ul> <li>StudentClient - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442</li> <li>HomeworkClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439</li> <li>EventClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f</li> <li>\u041c\u043e\u0434\u0435\u043b\u0438 - \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445</li> </ul>"},{"location":"api/student_client/","title":"StudentClient","text":"<p><code>StudentClient</code> - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 API school.mos.ru. \u041e\u043d \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a\u043e \u0432\u0441\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c \u0441 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u043c.</p>"},{"location":"api/student_client/#_1","title":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430","text":"<pre><code>from schoolmospy import StudentClient\n</code></pre>"},{"location":"api/student_client/#_2","title":"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440","text":"<pre><code>StudentClient(\n    base_url: str = \"https://school.mos.ru\",\n    token: str | None = None,\n    profile_id: int | None = None,\n    profile_type: str = \"student\",\n    timeout: float = 15.0\n)\n</code></pre>"},{"location":"api/student_client/#_3","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>base_url</code> <code>str</code> <code>\"https://school.mos.ru\"</code> \u0411\u0430\u0437\u043e\u0432\u044b\u0439 URL \u0434\u043b\u044f API <code>token</code> <code>str \\| None</code> <code>None</code> \u0422\u043e\u043a\u0435\u043d \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 <code>profile_id</code> <code>int \\| None</code> <code>None</code> ID \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0447\u0435\u043d\u0438\u043a\u0430 <code>profile_type</code> <code>str</code> <code>\"student\"</code> \u0422\u0438\u043f \u043f\u0440\u043e\u0444\u0438\u043b\u044f (student/parent) <code>timeout</code> <code>float</code> <code>15.0</code> \u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445"},{"location":"api/student_client/#_4","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>from schoolmospy import StudentClient\n\nclient = StudentClient(\n    token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\",\n    profile_id=12345678\n)\n</code></pre>"},{"location":"api/student_client/#_5","title":"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430","text":""},{"location":"api/student_client/#marks","title":"<code>marks</code>","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a MarksClient \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0446\u0435\u043d\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u0430.</p> <p>\u0422\u0438\u043f: <code>MarksClient</code></p> <pre><code>marks = await client.marks.get(from_date, to_date)\n</code></pre>"},{"location":"api/student_client/#homeworks","title":"<code>homeworks</code>","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a HomeworkClient \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439.</p> <p>\u0422\u0438\u043f: <code>HomeworkClient</code></p> <pre><code>homeworks = await client.homeworks.get(from_date, to_date)\n</code></pre>"},{"location":"api/student_client/#events","title":"<code>events</code>","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a EventClient \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439.</p> <p>\u0422\u0438\u043f: <code>EventClient</code></p> <pre><code>events = await client.events.get(from_date, to_date, contingent_guid)\n</code></pre>"},{"location":"api/student_client/#_6","title":"\u041c\u0435\u0442\u043e\u0434\u044b","text":""},{"location":"api/student_client/#get_me","title":"<code>get_me()</code>","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.</p> <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: <code>Profile</code> - \u043e\u0431\u044a\u0435\u043a\u0442 \u043f\u0440\u043e\u0444\u0438\u043b\u044f, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f</p> <p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f: - <code>APIError</code> - \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f - <code>AuthError</code> - \u0435\u0441\u043b\u0438 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u0430</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>profile = await client.get_me()\n\nprint(f\"\u0418\u043c\u044f: {profile.profile.first_name} {profile.profile.last_name}\")\nprint(f\"Email: {profile.profile.email}\")\nprint(f\"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: {profile.profile.phone}\")\n\n# \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0434\u0435\u0442\u0435\u0439\nfor child in profile.children:\n    print(f\"\u0420\u0435\u0431\u0435\u043d\u043e\u043a: {child.first_name} {child.last_name}\")\n    print(f\"\u0428\u043a\u043e\u043b\u0430: {child.school.name}\")\n    print(f\"\u041a\u043b\u0430\u0441\u0441: {child.class_name}\")\n</code></pre> <p>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"profile\": {\n        \"first_name\": \"\u0418\u0432\u0430\u043d\",\n        \"last_name\": \"\u0418\u0432\u0430\u043d\u043e\u0432\",\n        \"middle_name\": \"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447\",\n        \"email\": \"example@example.com\",\n        \"phone\": \"+79991234567\",\n        ...\n    },\n    \"children\": [\n        {\n            \"first_name\": \"...\",\n            \"last_name\": \"...\",\n            \"school\": {...},\n            \"class_name\": \"11-\u0410\",\n            \"contingent_guid\": \"...\",\n            ...\n        }\n    ]\n}\n</code></pre>"},{"location":"api/student_client/#userinfo","title":"<code>userinfo()</code>","text":"<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0438\u0437 OAuth.</p> <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: <code>Userinfo</code> - \u043e\u0431\u044a\u0435\u043a\u0442 \u0441 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435</p> <p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f: - <code>APIError</code> - \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f - <code>AuthError</code> - \u0435\u0441\u043b\u0438 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u0430</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>userinfo = await client.userinfo()\n\nprint(f\"ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: {userinfo.user_id}\")\nprint(f\"\u0418\u043c\u044f: {userinfo.name}\")\n</code></pre>"},{"location":"api/student_client/#_7","title":"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>import asyncio\nfrom datetime import datetime\nfrom schoolmospy import StudentClient\n\nasync def main():\n    # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n    client = StudentClient(\n        token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\",\n        profile_id=12345678\n    )\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f\n    profile = await client.get_me()\n    print(f\"\u0423\u0447\u0435\u043d\u0438\u043a: {profile.profile.first_name} {profile.profile.last_name}\")\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0435\u043c\u0435\u0441\u0442\u0440\n    marks = await client.marks.get(\n        from_date=datetime(2024, 9, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n    print(f\"\u0412\u0441\u0435\u0433\u043e \u043e\u0446\u0435\u043d\u043e\u043a: {len(marks.payload)}\")\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439\n    homeworks = await client.homeworks.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 31)\n    )\n    print(f\"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0439: {len(homeworks.payload)}\")\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f\n    contingent_guid = profile.children[0].contingent_guid\n    events = await client.events.get(\n        from_date=datetime(2024, 12, 1),\n        to_date=datetime(2024, 12, 7),\n        contingent_guid=contingent_guid\n    )\n    print(f\"\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0439: {len(events.response)}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"api/student_client/#_8","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>from schoolmospy.utils.exceptions import AuthError, APIError\n\nasync def safe_example():\n    try:\n        client = StudentClient(\n            token=\"\u0432\u0430\u0448_\u0442\u043e\u043a\u0435\u043d\",\n            profile_id=12345\n        )\n        profile = await client.get_me()\n    except AuthError:\n        print(\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\")\n    except APIError as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 API: {e}\")\n</code></pre>"},{"location":"api/student_client/#_9","title":"\u0421\u043c. \u0442\u0430\u043a\u0436\u0435","text":"<ul> <li>MarksClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u0430</li> <li>HomeworkClient - \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439</li> <li>EventClient - \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c</li> <li>\u041c\u043e\u0434\u0435\u043b\u0438 - \u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445</li> <li>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f - \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a</li> </ul>"}]}